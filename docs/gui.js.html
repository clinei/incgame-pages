<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: gui.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: gui.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
@file graphical user interface components
*/

/**
Interface for composing graphical interfaces
*/
class Renderable {
	/**
	@returns this
	*/
	render() {
		throw new Error("Abstract function, must be overridden");
	}
}

/**
A graphical interface to create more of a type of Item
@extends Renderable
*/
class Item {
	/**
	@param {ItemSpec} itemSpec - spec from which to create item from
	*/
	constructor(itemSpec) {
		this.itemSpec = itemSpec;
		this.button = new Button(this.itemSpec.name);
		this.progressBar = new ProgressBar;
	}
	/**
	Returns the time in milliseconds it takes to create one of this item
	@todo use current time
	@returns {Integer}
	*/
	get time() {
		return this.itemSpec.baseTime;
	}
	render() {
		const elem = document.createElement('div');
		elem.classList.add("item");
		elem.appendChild(this.button.render().elem);
		elem.appendChild(this.progressBar.render().elem);
		elem._controller = this;

		this.elem = elem;
		return this;
	}
	/**
	@param {ItemSpec[]} itemSpecs - array of specs to create items from
	@returns {Item[]}
	*/
	static createItems(itemSpecs) {
		const items = new Set;
		for (const itemSpec of itemSpecs) {
			items.add(new Item(itemSpec));
		}
		return items;
	}
}

/**
Represents a button primitive
@extends Emitter
@extends Renderable
@listens activate
@listens deactivate
*/
class Button extends Emitter {
	constructor(text) {
		super();

		this.text = text;

		this.addEventListener('activate', (evt) => {
			evt.detail.button.elem.classList.add("active");
		});
		this.addEventListener('deactivate', (evt) => {
			evt.detail.button.elem.classList.remove("active");
		});
	}
	render() {
		const elem = document.createElement('button');
		elem._controller = this;
		// TODO: combine, maybe using inheritance?
		elem.classList.add("button");
		elem.classList.add("clickable");
		elem.appendChild(document.createTextNode(this.text));
		elem.addEventListener('mousedown', (evt) => {
			const that = evt.target._controller;
			if (evt.button === 0) {
				const event = new CustomEvent('activate', {detail: {button: that}});
				// TODO: find a better solution that a magic number
				setTimeout(() => this.dispatchEvent(event), 100);
			}
		});

		this.elem = elem;
		return this;
	}
}

/**
Represents a progress bar primitive
@extends Renderable
*/
class ProgressBar {
	render() {
		const elem = document.createElement('div');
		elem._controller = this;
		elem.classList.add("progressBar");

		const progress = new Progress;
		elem.appendChild(progress.elem);

		this.elem = elem;
		this.progress = progress;
		return this;
	}
}
/**
Dynamic part of ProgressBar, do not use elsewhere
@extends Renderable
*/
class Progress {
	constructor() {
		this.render();
	}
	render() {
		const elem = document.createElement('div');
		elem._controller = this;
		elem.classList.add("progress");

		this.elem = elem;
		return this;
	}
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Button.html">Button</a></li><li><a href="Emitter.html">Emitter</a></li><li><a href="Item.html">Item</a></li><li><a href="ItemSpec.html">ItemSpec</a></li><li><a href="Player.html">Player</a></li><li><a href="Progress.html">Progress</a></li><li><a href="ProgressBar.html">ProgressBar</a></li><li><a href="Renderable.html">Renderable</a></li><li><a href="System.html">System</a></li></ul><h3>Namespaces</h3><ul><li><a href="incGame.html">incGame</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sun May 21 2017 18:34:03 GMT+0300 (FLE Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
